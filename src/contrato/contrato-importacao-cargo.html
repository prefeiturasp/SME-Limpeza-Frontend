<div class="card">
  <div class="card-body">

    <h4 class="card-title">IMPORTAÇÃO DE CARGOS NAS UNIDADES ESCOLARE
      <button type="button" class="close" style="margin-top: -8px;" ng-click="vm.fecharModalImportacao()">
        <span aria-hidden="true">×</span>
      </button>
    </h4>


    <div class="card mt-4">
      <div class="card-body">
        <h4 class="card-title">Arquivo de Dados</h4>
        <p class="card-description">
          Certifique-se que seu arquivo possua a estrutura de dados necessária para a importação e o carregue
          abaixo para importar os cargos para as Unidades Escolares do Contrato.
        </p>

        <div class="row mb-4">
          <div class="col-6">
            <ul class="list-ticked">
              <li>Formato: CSV</li>
              <li>Cabeçalho: codigo_ue;nome_cargo;quantidade;valor_mensal</li>
              <li>Obrigatoriedade: Todos</li>
              <li>Separador: ponto e vírgula (;)</li>
              <li>Linha Zero: Cabeçalho</li>
              <li>Chave: Código e Nome Cargo</li>
            </ul>
          </div>
          <div class="col-6">
            <ul class="list-ticked">
              <li>Case Sensitive: Não</li>
              <li>As UE's já devem estar adicionados ao contrato.</li>
              <li>Os cargos já devem estar cadastrados no sistema.</li>
              <li>Colunas com validação: quantidade;valor_mensal</li>
              <li>Validação da Quantidade: Número inteiro positivo</li>
              <li>Validação do Valor Mensal: Maior que zero</li>
            </ul>
          </div>
        </div>

        <botao-upload-arquivo id="upload" uploader="vm.uploader"
          ng-if="vm.uploadUtils && !vm.modalImportacao.resultado.length > 0"></botao-upload-arquivo>

      </div>
    </div>

    <div class="card mt-4" ng-if="vm.modalImportacao.resultado.length > 0">
      <div class="card-body p-0">
        <h4 class="card-title mx-4 mt-4 mb-2">Resumo da Importação</h4>
        <p class="card-description mx-4 mt-0">Verifique abaixo o resultado da importação de cada registro do
          arquivo carregado.</p>
        <table class="table table-striped">
          <thead>
            <th>Linha</th>
            <th>Resultado</th>
            <th>Unidade Escolar</th>
            <th>Cargo</th>
            <th class="text-right">Quantidade</th>
            <th class="text-right">Valor Mensal</th>
          </thead>
          <tbody>
            <tr ng-repeat="c in vm.modalImportacao.resultado track by $index">
              <td>{{($index+1) | zpad:2}}</td>
              <td class="uppercase text-{{c.classeResultado}}" style="font-weight: 600;">
                {{c.mensagemResultado}}
              </td>
              <td ng-if="!c.unidadeEscolar"> - </td>
              <td ng-if="c.unidadeEscolar">
                <h5 class="font-weight-light" ng-bind="c.unidadeEscolar.descricao"></h5>
                <small>Código: {{c.unidadeEscolar.codigo}}</small>
              </td>
              <td ng-bind="c.descricao || ' - '"></td>
              <td class="text-right" ng-bind="(c.quantidade | finance:false:0) || ' - '"></td>
              <td class="text-right" ng-bind="(c.valor_mensal | finance:true:2) || ' - '"></td>
            </tr>
          </tbody>
        </table>

        <div class="card-footer d-flex justify-content-between">
          <button type="button" class="btn btn-ligth" ng-click="vm.fecharModalImportacao()">Cancelar</button>
          <button type="button" class="btn btn-success" ng-click="vm.salvarCargosCarregados()">
            Salvar cargos encontrados
          </button>
        </div>

      </div>


    </div>
  </div>