<div class="card">
  <div class="card-body p-0">

    <h4 class="card-title m-4">BOLETINS DE MEDIÇÃO POR CONTRATO</h4>

    <uib-accordion class="accordion accordion-solid-header accordion-custom">
      <div uib-accordion-group is-open="vm.isFilterOpen">
        <uib-accordion-heading>
          Filtros de busca
        </uib-accordion-heading>
        <form novalidate autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
          <div class="row">
            <div class="col-sm-12 col-md-6 col-lg-2 my-2">
              <div class="form-control">
                <label for="ano" class="dois-pontos">Ano de Referência</label>
                <select class="form-control" id="ano" ng-model="vm.filtros.ano"
                  ng-options="ano as ano for ano in vm.anoList">
                  <option value="" selected>Todos</option>
                </select>
              </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-2 my-2">
              <div class="form-control">
                <label for="mes" class="dois-pontos">Mês de Referência</label>
                <select class="form-control" id="mes" ng-model="vm.filtros.mes"
                  ng-options="mes.mes as mes.descricao for mes in vm.mesList">
                  <option value="" selected>Todos</option>
                </select>
              </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-3 my-2" ng-if="usuario.usuarioOrigem.codigo !== 'ue'">
              <div class="form-control">
                <label for="ue" class="dois-pontos">Unidade Escolar</label>
                <ui-select id="ue" ng-model="vm.filtros.unidadeEscolar">
                  <ui-select-match allow-clear="true" placeholder="Todos">
                    {{$select.selected.codigo}} - {{$select.selected.descricao}}
                  </ui-select-match>
                  <ui-select-choices repeat="ue in vm.unidadeEscolarList | filter: $select.search">
                    <span class="mb-0 d-block" ng-bind-html="ue.descricao | highlight: $select.search"></span>
                    <small class="my-2" ng-bind-html="ue.codigo | highlight: $select.search"></small>
                    <small class="my-2"> - </small>
                    <small class="my-2" ng-bind-html="ue.tipo | highlight: $select.search"></small>
                  </ui-select-choices>
                </ui-select>
              </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-3 my-2" ng-if="usuario.usuarioOrigem.codigo === 'sme'">
              <div class="form-control">
                <label for="contrato" class="dois-pontos">Contrato</label>
                <ui-select id="contrato" ng-model="vm.filtros.contrato">
                  <ui-select-match allow-clear="true" placeholder="Todos">
                    {{$select.selected.codigo}} - {{$select.selected.descricao}}
                  </ui-select-match>
                  <ui-select-choices repeat="contrato in vm.contratoLista | filter: $select.search">
                    <span class="mb-0 d-block" ng-bind-html="contrato.descricao | highlight: $select.search"></span>
                    <small class="my-2">Código:</small>
                    <small class="my-2" ng-bind-html="contrato.codigo | highlight: $select.search"></small>
                  </ui-select-choices>
                </ui-select>
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-lg-4 col-md-6 col-sm-12">
              <button type="button" class="btn btn-primary" ng-click="vm.recarregarTabela()">Filtrar</button>
            </div>
          </div>
        </form>
      </div>
    </uib-accordion>

    <hr>

    <div class="row">
      <div class="col-12">
        <lista></lista>
      </div>
    </div>

  </div>
</div>